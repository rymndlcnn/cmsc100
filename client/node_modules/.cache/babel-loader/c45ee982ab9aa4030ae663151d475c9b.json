{"ast":null,"code":"var _jsxFileName = \"/home/michael/Desktop/SocialMedia100/client/src/Components/Navbar.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Link, withRouter } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport jwt_decode from 'jwt-decode';\nimport './CSS/Navbar.css'; // import {Logo} from './Media/final.jpg'\n\nclass Navbar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      userId: 0\n    };\n    this.searchUser = this.searchUser.bind(this);\n  }\n\n  searchUser(e) {\n    const query = e.target.value;\n    fetch('http://localhost:3000/search-user/?username=' + query).then(response => {\n      return response.json();\n    }).then(res => {\n      console.log(res.result);\n      this.setState({\n        users: res.result\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  componentDidMount() {\n    if (localStorage.usertoken) {\n      var token = localStorage.usertoken;\n      var decoded = jwt_decode(token);\n      this.setState({\n        userId: decoded.userId\n      });\n    }\n  }\n\n  logOut(e) {\n    e.preventDefault();\n    localStorage.removeItem('usertoken');\n    this.props.history.push('/');\n  }\n\n  render() {\n    const Suggestions = () => {\n      const options = this.state.users.map(r => React.createElement(Link, {\n        to: \"/profile/?userId=\" + r.userId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        key: r.userId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, r.name)))))))));\n      return React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, options);\n    };\n\n    {\n      /*==================== Content of menu changes depending if user is logged in or not ====================*/\n    }\n    const loginRegLink = React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Login, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })))));\n    const userLink = React.createElement(\"div\", {\n      class: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/profile/?userId=\" + this.state.userId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Button, {\n      class: \"header-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" Profile \"))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"\",\n      onClick: this.logOut.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Button, {\n      class: \"header-button\",\n      s: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Logout\"))))));\n    {\n      /*=======================================================================================================*/\n    }\n    return React.createElement(\"header\", {\n      class: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"clogo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, localStorage.usertoken ? React.createElement(Link, {\n      to: \"/wall\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \" Social Media  \", React.createElement(\"img\", {\n      src: \"./Media/final.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })) : React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"  Social Media \", React.createElement(\"img\", {\n      src: \"./Media/final.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"loginButtons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, localStorage.usertoken ? userLink : loginRegLink), React.createElement(\"div\", {\n      class: \"searchBarContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      class: \"csearch-bars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"search\",\n      name: \"Search\",\n      placeholder: \"Search for a user\",\n      value: this.state.query,\n      onChange: this.searchUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withRouter(Navbar);","map":{"version":3,"sources":["/home/michael/Desktop/SocialMedia100/client/src/Components/Navbar.js"],"names":["React","Component","Button","Link","withRouter","Login","Register","jwt_decode","Navbar","constructor","state","users","userId","searchUser","bind","e","query","target","value","fetch","then","response","json","res","console","log","result","setState","catch","componentDidMount","localStorage","usertoken","token","decoded","logOut","preventDefault","removeItem","props","history","push","render","Suggestions","options","map","r","name","loginRegLink","userLink"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,kBAAP,C,CACA;;AACA,MAAMC,MAAN,SAAqBP,SAArB,CAA+B;AAC3BQ,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,MAAM,EAAE;AAFC,KAAb;AAIA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AAEDD,EAAAA,UAAU,CAACE,CAAD,EAAG;AACb,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAvB;AAEAC,IAAAA,KAAK,CAAC,iDAA+CH,KAAhD,CAAL,CACOI,IADP,CACaC,QAAD,IAAc;AAAE,aAAOA,QAAQ,CAACC,IAAT,EAAP;AAAwB,KADpD,EAEOF,IAFP,CAEaG,GAAD,IAAS;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,MAAhB;AACA,WAAKC,QAAL,CAAc;AAAChB,QAAAA,KAAK,EAAEY,GAAG,CAACG;AAAZ,OAAd;AACH,KALP,EAMOE,KANP,CAMcb,CAAD,IAAO;AAAES,MAAAA,OAAO,CAACC,GAAR,CAAYV,CAAZ;AAAe,KANrC;AAQD;;AAECc,EAAAA,iBAAiB,GAAE;AACf,QAAGC,YAAY,CAACC,SAAhB,EAA0B;AACtB,UAAIC,KAAK,GAAGF,YAAY,CAACC,SAAzB;AACA,UAAIE,OAAO,GAAG1B,UAAU,CAACyB,KAAD,CAAxB;AACA,WAAKL,QAAL,CAAc;AACVf,QAAAA,MAAM,EAAEqB,OAAO,CAACrB;AADN,OAAd;AAGH;AACJ;;AACDsB,EAAAA,MAAM,CAAEnB,CAAF,EAAK;AACPA,IAAAA,CAAC,CAACoB,cAAF;AACAL,IAAAA,YAAY,CAACM,UAAb,CAAwB,WAAxB;AACA,SAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;;AAEDC,EAAAA,MAAM,GAAE;AACJ,UAAMC,WAAW,GAAG,MAAM;AACxB,YAAMC,OAAO,GAAG,KAAKhC,KAAL,CAAWC,KAAX,CAAiBgC,GAAjB,CAAsBC,CAAD,IACnC,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAI,sBAAoBA,CAAC,CAAChC,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,GAAG,EAAEgC,CAAC,CAAChC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOgC,CAAC,CAACC,IAAT,CAAJ,CADF,CADF,CADF,CADJ,CADF,CADF,CADc,CAAhB;AAeA,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKH,OAAL,CAAP;AACD,KAjBD;;AAmBA;AAAC;AAA4G;AAC7G,UAAMI,YAAY,GACd;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAI,KAAKT,KAAL,CAAWC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,CADJ,CADJ;AAcA,UAAMS,QAAQ,GACV;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAI,sBAAoB,KAAKrC,KAAL,CAAWE,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CADJ,CADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,EAAT;AAAY,MAAA,OAAO,EAAE,KAAKsB,MAAL,CAAYpB,IAAZ,CAAiB,IAAjB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,eAAd;AAA8B,MAAA,CAAC,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,CANA,CAHJ,CADJ,CADJ;AAuBA;AAAC;AAA4G;AAC7G,WACI;AAAQ,MAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEKgB,YAAY,CAACC,SAAb,GAAyB,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAgC;AAAK,MAAA,GAAG,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhC,CAAzB,GAAgG,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA4B;AAAK,MAAA,GAAG,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,CAFrG,CAFJ,EAOI;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,YAAY,CAACC,SAAb,GAAyBgB,QAAzB,GAAoCD,YADvC,CAPJ,EAWI;AAAK,MAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAS,MAAA,KAAK,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AACE,MAAA,KAAK,EAAC,QADR;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,WAAW,EAAC,mBAHd;AAIE,MAAA,KAAK,EAAE,KAAKpC,KAAL,CAAWM,KAJpB;AAKE,MAAA,QAAQ,EAAE,KAAKH,UALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAQE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF,CAXJ,CADJ;AA0BH;;AA3H0B;;AA8H/B,eAAeT,UAAU,CAACI,MAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { Button } from 'react-bootstrap';\nimport { Link, withRouter } from 'react-router-dom'\nimport Login from './Login'\nimport Register from './Register'\nimport jwt_decode from 'jwt-decode'\nimport './CSS/Navbar.css'\n// import {Logo} from './Media/final.jpg'\nclass Navbar extends Component {\n    constructor(){\n        super()\n        this.state = {\n            users: [],\n            userId: 0,\n        }\n        this.searchUser = this.searchUser.bind(this)\n    }\n\n    searchUser(e){\n    const query = e.target.value;\n\n    fetch('http://localhost:3000/search-user/?username='+query)\n          .then((response) => { return response.json() })\n          .then((res) => {\n              console.log(res.result)\n              this.setState({users: res.result})\n          })\n          .catch((e) => { console.log(e)});\n\n  }\n\n    componentDidMount(){\n        if(localStorage.usertoken){\n            var token = localStorage.usertoken\n            var decoded = jwt_decode(token)\n            this.setState({\n                userId: decoded.userId\n            })\n        }\n    }\n    logOut (e) {\n        e.preventDefault()\n        localStorage.removeItem('usertoken')\n        this.props.history.push('/')\n    }\n\n    render(){\n        const Suggestions = () => { \n          const options = this.state.users.map((r) => (\n            <Link to = {\"/profile/?userId=\"+r.userId}> \n              <div>\n                <table>\n                    <td> \n                      <li key={r.userId}>\n                        <div>\n                          <h5><span>{r.name}</span></h5>\n                        </div>\n                    </li>\n                    </td>\n               </table>\n              </div>\n            </Link>\n          ))\n          return <ul>{options}</ul>\n        }\n\n        {/*==================== Content of menu changes depending if user is logged in or not ====================*/}\n        const loginRegLink = (\n            <div className=\"header\">\n                <table>\n                    <tr>\n                        <td>\n                            <Login history = {this.props.history}/>\n                        </td>\n                    </tr>\n                 </table>   \n             </div>           \n            \n            \n        )\n\n        const userLink = (\n            <div class=\"header\">\n                <table>\n                    <tr><p></p></tr>\n                    <tr><p></p></tr>\n                    <tr>\n                    <td>\n                        <Link to = {\"/profile/?userId=\"+this.state.userId}>\n                            <Button class=\"header-button\"> Profile </Button>\n                        </Link>\n                    </td>\n                    <td>\n                        <Link to=\"\" onClick={this.logOut.bind(this)}>\n                            <Button class=\"header-button\" s>Logout</Button>\n                        </Link>\n                    \n                    </td>\n                    </tr>\n\n                 </table>   \n             </div>           \n           \n        )\n        {/*=======================================================================================================*/}\n        return (\n            <header class=\"App-header\">\n\n                <div class=\"clogo\">\n                \n                    {localStorage.usertoken ? <Link to=\"/wall\"> Social Media  <img src=\"./Media/final.png\" /></Link>:<Link to=\"/\">  Social Media <img src=\"./Media/final.png\" /></Link>}\n                </div>\n                \n                <div class=\"loginButtons\">\n                  {localStorage.usertoken ? userLink : loginRegLink}\n                </div>\n                \n                <div class=\"searchBarContainer\">\n                  <article class=\"csearch-bars\">\n                    <input type=\"text\" \n                      class=\"search\" \n                      name=\"Search\"\n                      placeholder=\"Search for a user\"\n                      value={this.state.query}\n                      onChange={this.searchUser}\n                    />\n                    <Suggestions/>\n                  </article>\n                </div>\n            </header>\n        )\n    }\n}\n\nexport default withRouter(Navbar)\n"]},"metadata":{},"sourceType":"module"}